<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GS Cal</title>
</head>

<body>
    <nav>
        <a style=" font-size: 20px; text-decoration: none;color: black;" href="/">&lt- Home Page </a>
    </nav>
    <div style="display: flex; justify-content: center; align-items: center;padding-top: 27vh;">
        <div>
            <form id="formularz" action="/api/gscal" method="GET">
                <input type="text" name="count" style="padding: 10px 20px; margin: 8px 0; box-sizing: border-box;" placeholder="Wpisz liczbÄ™">
                <input type="submit" style="  background-color: #4CAF50; border: none; color: white; padding: 10px 20px 12px; text-align: center;
                                              text-decoration: none; display: inline-block; font-size: 16px;" value="Policz">
            </form>
            <div>
                <p id="result">Resultat: 0 </p>
            </div>
        </div>
    </div>
</body>

<script>
    document.getElementById("formularz").addEventListener("submit", function (e) {
        e.preventDefault();

        fetch("/api/gscal?" + new URLSearchParams({
            count: e.currentTarget.count.value
        })).then(async data => {
            const response = await data.json();
            document.getElementById("result").innerHTML = `Resultat: ${response.result}`;
        }).catch(e => {
            console.log(e);
        })
    });
</script>

</html>